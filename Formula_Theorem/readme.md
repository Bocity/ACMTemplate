## Lindström–Gessel–Viennotr-lemma
对于一张无边权的DAG图，给定n个起点和对应的n个终点，这n条不相交的路径的方案数为

\\[
det (\left|\begin{array}{cccc}
    e(a_1,b_1) &    e(a_1,b_2)    & ... & e(a_1,b_n) \\
    e(ai,b1) &  e(ai,b2)  & ... & e(ai,bn)\\
    e(an,b1) & e(an,b2) & ... & e(an,bn)
\end{array}\right|)
\\]

其中e(a,b)为a到b的方案数
网格图亦可

## 判断C（n,m）奇偶性

\\((n \& m) == m\\)


## 与某树同构期望
子树大小倒数乘积
## 删子树轮数期望
结点深度倒数和
## Johnson法则
```cpp
bool cmp(node x, node y) {
    if (min(y.l, x.r) == min(x.l, y.r)) return x.l > y.l;
    return min(y.l, x.r) < min(x.l, y.r);
}
```
## 欧拉降幂
$
A^K \equiv \left \{
\begin{aligned}
& A^{K \%\phi(m)}  &  \gcd(A,K)=1\\
& A^{K \%\phi(m) +\phi(m)}    & \gcd(A,K) \neq 1, K \geq  \phi(m) \\
& A^{K}   & \gcd(A,K) \neq 1, K <  \phi(m)
\end{aligned}
\right.
\qquad
(\ mod\ m)
$
## 绝对值不等式
$||a|-|b|| ≤|a±b|≤|a|+|b|$
## able 变换
\\[
\sum _{{k=m}}^{n}f_{k}(g_{{k+1}}-g_{k})=\left[f_{{n+1}}g_{{n+1}}-f_{m}g_{m}\right]-\sum _{{k=m}}^{n}g_{{k+1}}(f_{{k+1}}-f_{k}).
\\]

\\[
\sum _{{i=m+1}}^{n}\left(b_{i}-b_{{i-1}}\right)a_{i}+\sum _{{i=m+1}}^{n}\left(a_{i}-a_{{i-1}}\right)b_{{i-1}}=a_{n}b_{n}-a_{m}b_{m}=\sum _{{i=m+1}}^{n}\left(b_{i}-b_{{i-1}}\right)a_{{i-1}}+\sum _{{i=m+1}}^{n}\left(a_{i}-a_{{i-1}}\right)b_{i}
\\]

## 邻接矩阵性质
邻接矩阵的k次幂的第 i 行 j 列就表示从 i 正好走 k 步到 j 的方案数。
## 斐波那契数列循环节
1. 对于与5互质的质数p，如果5是模p的二次剩余，那么模p意义下的循环节长度是(p-1)的因子。
2. 对于与5互质的质数p，如果5是模p的二次非剩余，那么模p意义下的循环节长度是(2p+2)的因子。
3. 对于模质数的幂p^k意义下的循环节，其值为模p意义下的循环节长度乘p^(k-1)。
4. 对于模x意义下的循环节，如果x被质因数分解为p1^k1*p2^k2*…*pm^km，则循环节是模每个质数的幂意义下的循环节的最小公倍数。
5. 特别的  loop(2)=3,loop(3)=8,loop(5)=20。

## 广义斐波那契数列循环节
斐波那契数列作为广义斐波那契数列f(n)=a*f(n-1)+b*f(n-2)的一个特殊情况在模素数p的最小循环节len满足以下结论（其中c=a^2+4*b^2=5）

1. 当c是模p的二次剩余时，最小循环节是p-1的因子
2. 当c不是模p的二次剩余时，最小循环节是(p-1)(p+1)的因子
3. 当c=p时，结论不定，此处暴力找一下可以知道p=5时最小循环节是20

## Euler Characteristic
$ χ = V − E + F $
其中$V$为点数，$E$为边数，$F$为面数，对于平面图即为划分成的平面数（包含外平面），$ χ $为对应的欧拉示性数，对于平面图有$ χ = C + 1 $，$ C $为连通块个数

## Dual Graph
将原图中所有平面区域作为点，每条边若与两个面相邻则在这两个面之间连一条边，只与一个面相邻连个自环，若有权值（容量）保留。
## MaxMin定理
平面图的最小割==最大流==对偶图的最短路
## 斐波那契数列性质
1. $gcd(F_n,F_m) = F(gcd(n,m))$
2. $n|m \iff F_n|F_m$
3. $\sum_{i = 1}^{n}F_i = F_{n + 2} - 1$
4. $\sum_{i = 1}^{n}F_i^2 = F_nF_{n + 1}$
5. $\sum_{i = 1,i+=2}^{2n-1}F_i = F_{2n}$
6. $\sum_{i = 2,i+=2}^{2n}F_i = F_{2n + 1} - 1$
7. $F_n = F_mF_{n-m + 1} + F_{m-1}F_{n-m} \\ n >= m$
8. $F_{n-1}F_{n+1} = F_n^2 + (-1)^n$
9. $F_0-F_1+F_2-…+(-1)^n·F_n=(-1)^n·[F_{n+1}-F_n]+1$
10. $F_{m+n}=F_{m-1}·F_{n-1}+F_m·F_n$
11. $F_n^2=(-1)^{n-1}+F_{n-1}·F_{n+1}$
12. $F(2n-1)=[f(n)]^2-[f(n-2)]^2$
13. $3F_n=F_{n + 2}+ F_{n-2}$
14. $F_{2n-2m-2}[F_{2n} + F_{2n + 2}] = F_{2m + 2} + F_{4n-2m}\\n>m>=-1 ,n>=1$
15. 类斐波那契数列也有当N比较大的时候，$\frac{F_N}{F_{N+1}}≈0.618$这个奇妙的性质

## Lucas
$C_n^m\ \%p=C_{n/p}^{m/p}*C_{n\%p}^{m\%p}\ \%p$
## 邻接矩阵性质
邻接矩阵的k次方，表示从i到j走k步的方案数
## Prufer Code
### 根据树构造
我们通过不断地删除顶点编过号的叶子节点知道还剩下两个点为止的方法来构造这棵树的Prufer Sequence。特别的，考虑一个顶点编过号的树T，点集为1，2，3，...，n。在第i步中，删除树中编号值最小的叶子节点，设置Prufer Sequence的第i个元素为与这个叶子节点相连的点的编号
### 还原
设ai是一个Prufer Sequence。这棵树将有n + 2个节点，编号从1到n + 2，对于每个节点，计它在Prufer Sequence中出现的次数 + 1为其度数。然后，对于a中的为个数ai，找编号最小的度数值为1的节点j，加入边(j,ai)，然后将j和ai的度数减少1。最后剩下的两个点的度数数值为1，连起来即可。
### 一些结论
完全图Kn的生成树，顶点的度数必须为 d1，d2，...，dn，这样的生成树的棵数为：

$\frac{(n-2)!}{[(d_1-1)!(d_2-1)!(d_3-1)!...(d_n-1)!]}$

一个顶点编过号的树，实际上是编号的完全图的一棵生成树。通过修改枚举Prufer Sequence的方法，可以用类似的方法计算完全二分图的生成树的棵数。如果G是完全二分图，一边有n1个点，另一边有n2个点，则其生成树棵数为：

$n_1^{n_2-1}n_2^{n_1-1}$

## Spanning Tree Count
对于n个点的无向图的生成树计数，令矩阵D为图G的度数矩阵，即$D = diag(deg_1,deg_2,...,deg_n)$,A为G的邻接矩阵便是，则D-A的任意一个n-1阶主子式的行列式的值即为答案
